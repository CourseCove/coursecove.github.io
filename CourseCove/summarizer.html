<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Text Summarizer | CourseCove</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<style>
  textarea, input { font-family: sans-serif; }
</style>
</head>
<body class="bg-gray-100 font-sans">

<header class="bg-white shadow p-4 mb-6">
  <h1 class="text-2xl font-bold text-gray-800">CourseCove Text Summarizer</h1>
</header>

<main class="container mx-auto p-4">
  <div class="bg-white p-6 rounded shadow-md">
    <h2 class="text-xl font-semibold mb-4">Paste text or upload a file</h2>

    <textarea id="inputText" rows="8" class="w-full p-3 border rounded mb-3" placeholder="Paste text here..."></textarea>
    <input type="file" id="fileInput" accept=".txt" class="mb-3">

    <div class="flex gap-3 mb-3">
      <button id="summarizeBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Generate Summary</button>
      <button id="clearBtn" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded">Clear</button>
    </div>

    <div id="summaryOutput" class="border p-3 rounded bg-gray-50 min-h-[100px] text-gray-800"></div>
  </div>
</main>

<script>
// Simple frequency-based summarizer
function summarize(text, numSentences=5) {
  const sentences = text.match(/[^.!?]+[.!?]+/g) || [text]; // split into sentences
  const wordFreq = {};
  const stopWords = new Set(["the","and","is","in","to","it","a","of","for","on","with","as","this","that","an","by","are","was","at","from"]);

  text.toLowerCase().replace(/[^\w\s]/g, '').split(/\s+/).forEach(word => {
    if (!stopWords.has(word) && word.length > 2) wordFreq[word] = (wordFreq[word] || 0) + 1;
  });

  const sentenceScores = sentences.map(s => {
    const words = s.toLowerCase().split(/\s+/);
    let score = 0;
    words.forEach(w => { if(wordFreq[w]) score += wordFreq[w]; });
    return { sentence: s, score };
  });

  sentenceScores.sort((a,b) => b.score - a.score);
  return sentenceScores.slice(0, Math.min(numSentences, sentenceScores.length)).map(s=>s.sentence);
}

// File upload helper
document.getElementById('fileInput').addEventListener('change', async e => {
  const file = e.target.files[0];
  if (!file) return;
  const text = await file.text();
  document.getElementById('inputText').value = text;
});

// Summarize button
document.getElementById('summarizeBtn').addEventListener('click', () => {
  const text = document.getElementById('inputText').value.trim();
  if (!text) return alert("Please enter text or upload a file.");
  const summary = summarize(text, 5); // top 5 sentences
  document.getElementById('summaryOutput').innerText = summary.join(' ');
});

// Clear button
document.getElementById('clearBtn').addEventListener('click', () => {
  document.getElementById('inputText').value = '';
  document.getElementById('fileInput').value = '';
  document.getElementById('summaryOutput').innerText = '';
});
</script>
</body>
</html>
