<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Podcasts & Lectures | CourseCove</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

   <link rel="stylesheet" href="css/style.css" />
    <link rel="icon" type="image/png" href="images/favicon.png" />
  <style>
    body { background: #f8f9fa; }
    h1 { color: #2c3e50; }
    .card-img-top { height: 150px; object-fit: cover; background: #e9ecef; }
  </style>
</head>
<body>


  <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3e5e9;">
  <div class="container">
    <a class="navbar-brand" href="../index.html">
      <img src="images/logo1.png" alt="Course Aggregator Logo" style="height: 70px; width: auto;" />
    </a>

    <!-- Mobile toggle -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">

        <!-- Home -->
        <li class="nav-item">
          <a class="nav-link" href="../index.html">Home</a>
        </li>
        <li class="nav-item"><a class="nav-link active" href="#">Podcasts</a></li>

        <!-- Courses Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="coursesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Courses
          </a>
          <ul class="dropdown-menu" aria-labelledby="coursesDropdown">
            <li><a class="dropdown-item" href="math.html">Math</a></li>
            <li><a class="dropdown-item" href="ai-ml.html">AI / ML</a></li>
            <li><a class="dropdown-item" href="arts-humanities.html">Arts & Humanities</a></li>
            <li><a class="dropdown-item" href="languages.html">Languages</a></li>
            <li><a class="dropdown-item" href="politics-economics.html">Politics & Economics</a></li>
            <li><a class="dropdown-item" href="environment.html">Environment</a></li>
          </ul>
        </li>

        <!-- Literature Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="literatureDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Literature
          </a>
          <ul class="dropdown-menu" aria-labelledby="literatureDropdown">
            <li><a class="dropdown-item" href="../blog.html">Blog</a></li>
            <li><a class="dropdown-item" href="books.html">Books</a></li>
            <li><a class="dropdown-item" href="articles.html">Articles</a></li>
            <li><a class="dropdown-item" href="citation.html">Citation Generator</a></li>
          </ul>
        </li>

        <!-- Contact -->
        <li class="nav-item">
          <a class="nav-link" href="contact.html">Contact</a>
        </li>

      </ul>
    </div>
  </div>
</nav>


<main class="container my-5">
  <h1 class="mb-4">Educational Podcasts & Lectures</h1>
  <div class="row">
    <aside class="col-lg-4 mb-4">
      <div class="card p-3">
        <h5 class="mb-3">Filter by Source</h5>
        <div>
          <div><input type="checkbox" class="form-check-input" id="itunes" checked> <label for="itunes">iTunes Podcasts</label></div>
          <div><input type="checkbox" class="form-check-input" id="ted" checked> <label for="ted">TED Talks</label></div>
        </div>
      </div>
    </aside>

    <section class="col-lg-8">
      <input type="search" id="searchBar" class="form-control mb-3" placeholder="Search topics (e.g., AI, History, Math)..." />
      <div id="content-container" class="row row-cols-1 row-cols-sm-2 g-4"></div>
    </section>
  </div>
</main>

<footer class="bg-dark text-white py-4 mt-5">
  <div class="container d-flex justify-content-between align-items-center flex-wrap">
    <div><strong>CourseCove</strong> | © 2025 All rights reserved.</div>
    <div>
      <a href="../index.html" class="text-light text-decoration-none me-3">Home</a>
      <a href="contact.html" class="text-light text-decoration-none">Contact</a>
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<script>
const container = document.getElementById("content-container");
const searchBar = document.getElementById("searchBar");

let limit = 12;
let term = "education";
let podcasts = [];
let tedTalks = [];
let renderedCount = 0;

async function fetchiTunes(term = "education", limit = 12, offset = 0) {
  const url = `https://itunes.apple.com/search?term=${encodeURIComponent(term)}&media=podcast&limit=${limit}&offset=${offset}`;
  const res = await fetch(url);
  const data = await res.json();
  return data.results.map(p => ({
    title: p.collectionName,
    author: p.artistName,
    image: p.artworkUrl100,
    url: p.collectionViewUrl,
    source: "iTunes Podcast"
  }));
}

async function fetchTED() {
  const url = `https://api.allorigins.win/get?url=${encodeURIComponent('https://feeds.feedburner.com/tedtalks_video')}`;
  const res = await fetch(url);
  const data = await res.json();
  const parser = new DOMParser();
  const xml = parser.parseFromString(data.contents, "text/xml");
  const items = xml.querySelectorAll("item");
  return Array.from(items).map(item => ({
    title: item.querySelector("title").textContent,
    author: "TED Talks",
    image: "https://upload.wikimedia.org/wikipedia/commons/3/31/TED_conference_logo.svg",
    url: item.querySelector("link").textContent,
    source: "TED Talks"
  }));
}

function createCard(item) {
  return `
    <div class="col">
      <div class="card h-100 shadow-sm">
        <img src="${item.image}" class="card-img-top" alt="${item.title}">
        <div class="card-body">
          <h5 class="card-title">${item.title}</h5>
          <p class="text-muted small">${item.author} • ${item.source}</p>
          <a href="${item.url}" target="_blank" class="btn btn-primary btn-sm">Listen</a>
        </div>
      </div>
    </div>`;
}

function renderAll() {
  const showTED = document.getElementById("ted").checked;
  const showITunes = document.getElementById("itunes").checked;

  const itemsToShow = [
    ...(showTED ? tedTalks : []),
    ...(showITunes ? podcasts.slice(0, renderedCount) : [])
  ];

  container.innerHTML = itemsToShow.map(createCard).join("");

  if (showITunes && renderedCount < podcasts.length) {
    const loadMoreBtn = document.createElement("button");
    loadMoreBtn.className = "btn btn-outline-secondary mt-4";
    loadMoreBtn.textContent = "Load more podcasts";
    loadMoreBtn.onclick = () => loadMore();
    container.appendChild(loadMoreBtn);
  }

  if (itemsToShow.length === 0) {
    container.innerHTML = "<p>No results found.</p>";
  }
}

async function loadData() {
  container.innerHTML = "<p>Loading...</p>";
  podcasts = document.getElementById("itunes").checked ? await fetchiTunes(term, 36) : [];
  tedTalks = document.getElementById("ted").checked ? await fetchTED() : [];
  renderedCount = 12;
  renderAll();
}

function loadMore() {
  renderedCount += 12;
  renderAll();
}

searchBar.addEventListener("input", e => {
  term = e.target.value.trim() || "education";
  loadData();
});

document.querySelectorAll("input[type=checkbox]").forEach(cb => cb.addEventListener("change", loadData));

loadData();
</script>


  

</body>
</html>
